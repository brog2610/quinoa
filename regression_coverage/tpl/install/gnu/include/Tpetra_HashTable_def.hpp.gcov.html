<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Quinoa unit test code coverage report</title>
  <link rel="stylesheet" type="text/css" href="../../../../gcov.css">
</head>
<body>
  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">Quinoa regression test code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../../../index.html">top level</a> - <a href="index.html">tpl/install/gnu/include</a> - Tpetra_HashTable_def.hpp<span style="font-size: 80%;"> (source / <a href="Tpetra_HashTable_def.hpp.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Commit:</td>
            <td class="headerValue">refs/heads/master:79cc6ba4cc39cf808497be15a706fe41255e3d0d</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">83</td>
            <td class="headerCovTableEntryLo">0.0 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2016-01-15 19:39:53</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">9</td>
            <td class="headerCovTableEntryLo">0.0 %</td>
          </tr>
          <tr>
            <td class="headerItem">Legend:</td>
            <td class="headerValueLeg">            Lines:
            <span class="coverLegendCov">hit</span>
            <span class="coverLegendNoCov">not hit</span>
            | Branches:
            <span class="coverLegendCov">+</span> taken
            <span class="coverLegendNoCov">-</span> not taken
            <span class="coverLegendNoCov">#</span> not executed
</td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntryHi">-</td>
          </tr>
          <tr><td><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">           Branch data     Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>                :            : /*</a>
<span class="lineNum">       2 </span>                :            : // @HEADER
<span class="lineNum">       3 </span>                :            : // ***********************************************************************
<span class="lineNum">       4 </span>                :            : //
<span class="lineNum">       5 </span>                :            : //          Tpetra: Templated Linear Algebra Services Package
<span class="lineNum">       6 </span>                :            : //                 Copyright (2008) Sandia Corporation
<span class="lineNum">       7 </span>                :            : //
<span class="lineNum">       8 </span>                :            : // Under the terms of Contract DE-AC04-94AL85000 with Sandia Corporation,
<span class="lineNum">       9 </span>                :            : // the U.S. Government retains certain rights in this software.
<span class="lineNum">      10 </span>                :            : //
<span class="lineNum">      11 </span>                :            : // Redistribution and use in source and binary forms, with or without
<span class="lineNum">      12 </span>                :            : // modification, are permitted provided that the following conditions are
<span class="lineNum">      13 </span>                :            : // met:
<span class="lineNum">      14 </span>                :            : //
<span class="lineNum">      15 </span>                :            : // 1. Redistributions of source code must retain the above copyright
<span class="lineNum">      16 </span>                :            : // notice, this list of conditions and the following disclaimer.
<span class="lineNum">      17 </span>                :            : //
<span class="lineNum">      18 </span>                :            : // 2. Redistributions in binary form must reproduce the above copyright
<span class="lineNum">      19 </span>                :            : // notice, this list of conditions and the following disclaimer in the
<span class="lineNum">      20 </span>                :            : // documentation and/or other materials provided with the distribution.
<span class="lineNum">      21 </span>                :            : //
<span class="lineNum">      22 </span>                :            : // 3. Neither the name of the Corporation nor the names of the
<span class="lineNum">      23 </span>                :            : // contributors may be used to endorse or promote products derived from
<span class="lineNum">      24 </span>                :            : // this software without specific prior written permission.
<span class="lineNum">      25 </span>                :            : //
<span class="lineNum">      26 </span>                :            : // THIS SOFTWARE IS PROVIDED BY SANDIA CORPORATION &quot;AS IS&quot; AND ANY
<span class="lineNum">      27 </span>                :            : // EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
<span class="lineNum">      28 </span>                :            : // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
<span class="lineNum">      29 </span>                :            : // PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL SANDIA CORPORATION OR THE
<span class="lineNum">      30 </span>                :            : // CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
<span class="lineNum">      31 </span>                :            : // EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
<span class="lineNum">      32 </span>                :            : // PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
<span class="lineNum">      33 </span>                :            : // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
<span class="lineNum">      34 </span>                :            : // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
<span class="lineNum">      35 </span>                :            : // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
<span class="lineNum">      36 </span>                :            : // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
<span class="lineNum">      37 </span>                :            : //
<span class="lineNum">      38 </span>                :            : // Questions? Contact Michael A. Heroux (maherou@sandia.gov)
<span class="lineNum">      39 </span>                :            : //
<span class="lineNum">      40 </span>                :            : // ************************************************************************
<span class="lineNum">      41 </span>                :            : // @HEADER
<span class="lineNum">      42 </span>                :            : */
<span class="lineNum">      43 </span>                :            : 
<span class="lineNum">      44 </span>                :            : #ifndef TPETRA_HASHTABLE_DEF_HPP_
<span class="lineNum">      45 </span>                :            : #define TPETRA_HASHTABLE_DEF_HPP_
<span class="lineNum">      46 </span>                :            : 
<span class="lineNum">      47 </span>                :            : #include &quot;Tpetra_HashTable_decl.hpp&quot;
<span class="lineNum">      48 </span>                :            : #include &quot;MurmurHash3.hpp&quot;
<span class="lineNum">      49 </span>                :            : 
<span class="lineNum">      50 </span>                :            : 
<span class="lineNum">      51 </span>                :            : namespace Tpetra
<span class="lineNum">      52 </span>                :            : {
<span class="lineNum">      53 </span>                :            : 
<span class="lineNum">      54 </span>                :            : namespace Details
<span class="lineNum">      55 </span>                :            : {
<span class="lineNum">      56 </span>                :            : 
<a name="57"><span class="lineNum">      57 </span>                :            : template&lt;typename KeyType, typename ValueType&gt;</a>
<span class="lineNum">      58 </span>                :            : int
<span class="lineNum">      59 </span>                :<span class="lineNoCov">          0 : HashTable&lt;KeyType, ValueType&gt;::hashFunc( const KeyType key ) {</span>
<span class="lineNum">      60 </span>                :            : #ifdef TPETRA_USE_MURMUR_HASH
<span class="lineNum">      61 </span>                :            :     uint32_t k;
<span class="lineNum">      62 </span>                :            :     MurmurHash3_x86_32((void *)&amp;key, sizeof(KeyType),
<span class="lineNum">      63 </span>                :            :                           1, (void *)&amp;k);
<span class="lineNum">      64 </span>                :            :     return (int) (k%Size_);
<span class="lineNum">      65 </span>                :            : #else
<span class="lineNum">      66 </span>                :            :     // Epetra's version of hash, using it as default as we have observed
<span class="lineNum">      67 </span>                :            :     // this is much faster than murmur hash. However, this is not a good
<span class="lineNum">      68 </span>                :            :     // hash function for all data sets. For our typical use case, this is good.
<span class="lineNum">      69 </span>                :            :     // Use murmur if the maps are sparse.
<span class="lineNum">      70 </span>                :            :     int intkey = (int) ((key &amp; 0x000000007fffffffLL) +
<span class="lineNum">      71 </span>                :<span class="lineNoCov">          0 :        ((key &amp; 0x7fffffff80000000LL) &gt;&gt; 31));</span>
<span class="lineNum">      72 </span>                :<span class="lineNoCov">          0 :     return (int) ((Seed_ ^ intkey)%Size_);</span>
<span class="lineNum">      73 </span>                :            : #endif
<span class="lineNum">      74 </span>                :            : }
<span class="lineNum">      75 </span>                :            : 
<a name="76"><span class="lineNum">      76 </span>                :            : template&lt;typename KeyType, typename ValueType&gt;</a>
<span class="lineNum">      77 </span>                :            : int
<span class="lineNum">      78 </span>                :<span class="lineNoCov">          0 : HashTable&lt;KeyType, ValueType&gt;::getRecommendedSize( const int size ) {</span>
<span class="lineNum">      79 </span>                :            :    // A large list of prime numbers.
<span class="lineNum">      80 </span>                :            :    // Based on a recommendation by Andres Valloud in hash forums.
<span class="lineNum">      81 </span>                :            :    //  There are only enough primes here so that between any number N and 2*N,
<span class="lineNum">      82 </span>                :            :    //  there will be at least about 8 to choose from (except the first 10).
<span class="lineNum">      83 </span>                :            :    //  This is a balance between a small list of primes, and getting a
<span class="lineNum">      84 </span>                :            :    //  collection size that doesn't waste too much space.  In addition,
<span class="lineNum">      85 </span>                :            :    //  the primes in this table were chosen so that they do not divide
<span class="lineNum">      86 </span>                :            :    //  256^k +- a, for 1&lt;=k&lt;=8, and -32&lt;=a&lt;=32.  This is so that
<span class="lineNum">      87 </span>                :            :    //  using them as a modulo will not have a tendency to just throw away
<span class="lineNum">      88 </span>                :            :    //  the most significant bits of the object's hash.  The primes (except the
<span class="lineNum">      89 </span>                :            :    //  first ten) or not close to any power of two to avoid aliasing
<span class="lineNum">      90 </span>                :            :    //  between hash functions based on bit manipulation and the moduli.
<span class="lineNum">      91 </span>                :            :         int primes [ ] = {
<span class="lineNum">      92 </span>                :            :         3, 7, 13, 23, 53, 97, 193, 389, 769, 1543,
<span class="lineNum">      93 </span>                :            :         2237, 2423, 2617, 2797, 2999, 3167, 3359, 3539,
<span class="lineNum">      94 </span>                :            :         3727, 3911, 4441 , 4787 , 5119 , 5471 , 5801 , 6143 , 6521 , 6827
<span class="lineNum">      95 </span>                :            :         , 7177 , 7517 , 7853 , 8887 , 9587 , 10243 , 10937 , 11617 , 12289
<span class="lineNum">      96 </span>                :            :         , 12967 , 13649 , 14341 , 15013 , 15727
<span class="lineNum">      97 </span>                :            :         , 17749 , 19121 , 20479 , 21859 , 23209 , 24593 , 25939 , 27329
<span class="lineNum">      98 </span>                :            :         , 28669 , 30047 , 31469 , 35507 , 38231 , 40961 , 43711 , 46439
<span class="lineNum">      99 </span>                :            :         , 49157 , 51893 , 54617 , 57347 , 60077 , 62801 , 70583 , 75619
<span class="lineNum">     100 </span>                :            :         , 80669 , 85703 , 90749 , 95783 , 100823 , 105871 , 110909 , 115963
<span class="lineNum">     101 </span>                :            :         , 120997 , 126031 , 141157 , 151237 , 161323 , 171401 , 181499 , 191579
<span class="lineNum">     102 </span>                :            :         , 201653 , 211741 , 221813 , 231893 , 241979 , 252079
<span class="lineNum">     103 </span>                :            :         , 282311 , 302483 , 322649 , 342803 , 362969 , 383143 , 403301 , 423457
<span class="lineNum">     104 </span>                :            :         , 443629 , 463787 , 483953 , 504121 , 564617 , 604949 , 645313 , 685609
<span class="lineNum">     105 </span>                :            :         , 725939 , 766273 , 806609 , 846931 , 887261 , 927587 , 967919 , 1008239
<span class="lineNum">     106 </span>                :            :         , 1123477 , 1198397 , 1273289 , 1348177 , 1423067 , 1497983 , 1572869
<span class="lineNum">     107 </span>                :            :         , 1647761 , 1722667 , 1797581 , 1872461 , 1947359 , 2022253
<span class="lineNum">     108 </span>                :            :         , 2246953 , 2396759 , 2546543 , 2696363 , 2846161 , 2995973 , 3145739
<span class="lineNum">     109 </span>                :            :         , 3295541 , 3445357 , 3595117 , 3744941 , 3894707 , 4044503
<span class="lineNum">     110 </span>                :            :         , 4493921 , 4793501 , 5093089 , 5392679 , 5692279 , 5991883 , 6291469
<span class="lineNum">     111 </span>                :            :         , 6591059 , 6890641 , 7190243 , 7489829 , 7789447 , 8089033
<span class="lineNum">     112 </span>                :            :         , 8987807 , 9586981 , 10186177 , 10785371 , 11384539 , 11983729
<span class="lineNum">     113 </span>                :            :         , 12582917 , 13182109 , 13781291 , 14380469 , 14979667 , 15578861
<span class="lineNum">     114 </span>                :            :         , 16178053 , 17895707 , 19014187 , 20132683 , 21251141 , 22369661
<span class="lineNum">     115 </span>                :            :         , 23488103 , 24606583 , 25725083 , 26843549 , 27962027 , 29080529
<span class="lineNum">     116 </span>                :            :         , 30198989 , 31317469 , 32435981 , 35791397 , 38028379 , 40265327
<span class="lineNum">     117 </span>                :            :         , 42502283 , 44739259 , 46976221 , 49213237 , 51450131 , 53687099
<span class="lineNum">     118 </span>                :            :         , 55924061 , 58161041 , 60397993 , 62634959 , 64871921
<span class="lineNum">     119 </span>                :            :         , 71582857 , 76056727 , 80530643 , 85004567 , 89478503 , 93952427
<span class="lineNum">     120 </span>                :            :         , 98426347 , 102900263 , 107374217 , 111848111 , 116322053 , 120795971
<span class="lineNum">     121 </span>                :            :         , 125269877 , 129743807 , 143165587 , 152113427 , 161061283 , 170009141
<span class="lineNum">     122 </span>                :            :         , 178956983 , 187904819 , 196852693 , 205800547 , 214748383 , 223696237
<span class="lineNum">     123 </span>                :<span class="lineNoCov">          0 :         , 232644089 , 241591943 , 250539763 , 259487603 , 268435399 };</span>
<span class="lineNum">     124 </span>                :            : 
<span class="lineNum">     125 </span>                :<span class="lineNoCov">          0 :     int hsize = primes[220] ;</span>
<span class="lineNum">     126 </span>                :<span class="lineNoCov">          0 :     for (int i = 0 ; i &lt; 221 ; i++)</span>
<span class="lineNum">     127 </span>                :            :     {
<span class="lineNum">     128 </span>                :<span class="lineNoCov">          0 :         if (size &lt;= primes[i])</span>
<span class="lineNum">     129 </span>                :            :         {
<span class="lineNum">     130 </span>                :<span class="lineNoCov">          0 :             hsize = primes[i] ;</span>
<span class="lineNum">     131 </span>                :<span class="lineNoCov">          0 :             break ;</span>
<span class="lineNum">     132 </span>                :            :         }
<span class="lineNum">     133 </span>                :            :     }
<span class="lineNum">     134 </span>                :            : 
<span class="lineNum">     135 </span>                :<span class="lineNoCov">          0 :     return hsize ;</span>
<span class="lineNum">     136 </span>                :            : }
<a name="137"><span class="lineNum">     137 </span>                :            : </a>
<span class="lineNum">     138 </span>                :            : template&lt;typename KeyType, typename ValueType&gt;
<span class="lineNum">     139 </span>                :<span class="lineNoCov">          0 : HashTable&lt;KeyType, ValueType&gt;::</span>
<span class="lineNum">     140 </span>                :            : HashTable( const int size, const unsigned int seed )
<span class="lineNum">     141 </span>                :            :   : Container_(NULL),
<span class="lineNum">     142 </span>                :<span class="lineNoCov">          0 :     Seed_(seed)</span>
<span class="lineNum">     143 </span>                :            : {
<span class="lineNum">     144 </span>                :<span class="lineNoCov">          0 :   TEUCHOS_TEST_FOR_EXCEPTION(size &lt; 0, std::runtime_error,</span>
<span class="lineNum">     145 </span>                :            :                              &quot;HashTable : ERROR, size cannot be less than zero&quot;);
<span class="lineNum">     146 </span>                :            : 
<span class="lineNum">     147 </span>                :<span class="lineNoCov">          0 :   Size_ = getRecommendedSize(size);</span>
<span class="lineNum">     148 </span>                :<span class="lineNoCov">          0 :   Container_ = new Node * [Size_];</span>
<span class="lineNum">     149 </span>                :<span class="lineNoCov">          0 :   for( KeyType i = 0; i &lt; Size_; ++i ) Container_[i] = NULL;</span>
<span class="lineNum">     150 </span>                :            : #ifdef HAVE_TEUCHOS_DEBUG
<span class="lineNum">     151 </span>                :            :   maxc_ = 0;
<span class="lineNum">     152 </span>                :            :   nc_ = 0;
<span class="lineNum">     153 </span>                :            : #endif
<span class="lineNum">     154 </span>                :<span class="lineNoCov">          0 : }</span>
<span class="lineNum">     155 </span>                :            : 
<span class="lineNum">     156 </span>                :            : template&lt;typename KeyType, typename ValueType&gt;
<span class="lineNum">     157 </span>                :            : HashTable&lt;KeyType, ValueType&gt;::
<span class="lineNum">     158 </span>                :            : HashTable( const HashTable &amp; obj )
<span class="lineNum">     159 </span>                :            :   : Container_(NULL),
<span class="lineNum">     160 </span>                :            :     Size_(obj.Size_),
<span class="lineNum">     161 </span>                :            :     Seed_(obj.Seed_)
<span class="lineNum">     162 </span>                :            : {
<span class="lineNum">     163 </span>                :            : #ifdef HAVE_TEUCHOS_DEBUG
<span class="lineNum">     164 </span>                :            :   maxc_ = 0;
<span class="lineNum">     165 </span>                :            :   nc_ = 0;
<span class="lineNum">     166 </span>                :            : #endif
<span class="lineNum">     167 </span>                :            :   Container_ = new Node * [Size_];
<span class="lineNum">     168 </span>                :            :   for( KeyType i = 0; i &lt; Size_; ++i ) Container_[i] = NULL;
<span class="lineNum">     169 </span>                :            :   for( KeyType i = 0; i &lt; Size_; ++i ) {
<span class="lineNum">     170 </span>                :            :     Node * ptr = obj.Container_[i];
<span class="lineNum">     171 </span>                :            :     while( ptr ) { add( ptr-&gt;Key, ptr-&gt;Value ); ptr = ptr-&gt;Ptr; }
<span class="lineNum">     172 </span>                :            :   }
<span class="lineNum">     173 </span>                :            : }
<a name="174"><span class="lineNum">     174 </span>                :            : </a>
<span class="lineNum">     175 </span>                :            : template&lt;typename KeyType, typename ValueType&gt;
<span class="lineNum">     176 </span>                :<span class="lineNoCov">          0 : HashTable&lt;KeyType, ValueType&gt;::~HashTable() {</span>
<span class="lineNum">     177 </span>                :            :   Node * ptr1;
<span class="lineNum">     178 </span>                :            :   Node * ptr2;
<span class="lineNum">     179 </span>                :<span class="lineNoCov">          0 :   for( KeyType i = 0; i &lt; Size_; ++i ) {</span>
<span class="lineNum">     180 </span>                :<span class="lineNoCov">          0 :     ptr1 = Container_[i];</span>
<span class="lineNum">     181 </span>                :<span class="lineNoCov">          0 :     while( ptr1 ) { ptr2 = ptr1; ptr1 = ptr1-&gt;Ptr; delete ptr2; }</span>
<span class="lineNum">     182 </span>                :            :   }
<span class="lineNum">     183 </span>                :            : 
<span class="lineNum">     184 </span>                :<span class="lineNoCov">          0 :   delete [] Container_;</span>
<span class="lineNum">     185 </span>                :<span class="lineNoCov">          0 : }</span>
<span class="lineNum">     186 </span>                :            : 
<a name="187"><span class="lineNum">     187 </span>                :            : template&lt;typename KeyType, typename ValueType&gt;</a>
<span class="lineNum">     188 </span>                :            : void
<span class="lineNum">     189 </span>                :<span class="lineNoCov">          0 : HashTable&lt;KeyType, ValueType&gt;::</span>
<span class="lineNum">     190 </span>                :            : add( const KeyType key, const ValueType value ) {
<span class="lineNum">     191 </span>                :<span class="lineNoCov">          0 :   int v = hashFunc(key);</span>
<span class="lineNum">     192 </span>                :<span class="lineNoCov">          0 :   Node * n1 = Container_[v];</span>
<span class="lineNum">     193 </span>                :<span class="lineNoCov">          0 :   Container_[v] = new Node(key,value,n1);</span>
<span class="lineNum">     194 </span>                :<span class="lineNoCov">          0 : }</span>
<span class="lineNum">     195 </span>                :            : 
<a name="196"><span class="lineNum">     196 </span>                :            : template&lt;typename KeyType, typename ValueType&gt;</a>
<span class="lineNum">     197 </span>                :            : ValueType
<span class="lineNum">     198 </span>                :<span class="lineNoCov">          0 : HashTable&lt;KeyType, ValueType&gt;::</span>
<span class="lineNum">     199 </span>                :            : get( const KeyType key ) {
<span class="lineNum">     200 </span>                :<span class="lineNoCov">          0 :   Node * n = Container_[ hashFunc(key) ];</span>
<span class="lineNum">     201 </span>                :            : 
<span class="lineNum">     202 </span>                :            : #ifdef HAVE_TEUCHOS_DEBUG
<span class="lineNum">     203 </span>                :            :   int k = 0;
<span class="lineNum">     204 </span>                :            : #endif
<span class="lineNum">     205 </span>                :            : 
<span class="lineNum">     206 </span>                :<span class="lineNoCov">          0 :   while( n &amp;&amp; (n-&gt;Key != key) ){</span>
<span class="lineNum">     207 </span>                :<span class="lineNoCov">          0 :     n = n-&gt;Ptr;</span>
<span class="lineNum">     208 </span>                :            : #ifdef HAVE_TEUCHOS_DEBUG
<span class="lineNum">     209 </span>                :            :     ((k+1 &gt; maxc_) ? maxc_ = k+1 : 0) ;
<span class="lineNum">     210 </span>                :            :     k++;
<span class="lineNum">     211 </span>                :            : #endif
<span class="lineNum">     212 </span>                :            :   }
<span class="lineNum">     213 </span>                :            : 
<span class="lineNum">     214 </span>                :            : #ifdef HAVE_TEUCHOS_DEBUG
<span class="lineNum">     215 </span>                :            :   if (k != 0) nc_++;
<span class="lineNum">     216 </span>                :            : #endif
<span class="lineNum">     217 </span>                :<span class="lineNoCov">          0 :   if( n ) return n-&gt;Value;</span>
<span class="lineNum">     218 </span>                :<span class="lineNoCov">          0 :   else    return -1;</span>
<span class="lineNum">     219 </span>                :            : }
<a name="220"><span class="lineNum">     220 </span>                :            : </a>
<span class="lineNum">     221 </span>                :            : template &lt;typename KeyType, typename ValueType&gt;
<span class="lineNum">     222 </span>                :<span class="lineNoCov">          0 : std::string HashTable&lt;KeyType, ValueType&gt;::description() const {</span>
<span class="lineNum">     223 </span>                :<span class="lineNoCov">          0 :   std::ostringstream oss;</span>
<span class="lineNum">     224 </span>                :<span class="lineNoCov">          0 :   oss &lt;&lt; &quot;HashTable&lt;&quot;</span>
<span class="lineNum">     225 </span>                :<span class="lineNoCov">          0 :       &lt;&lt; Teuchos::TypeNameTraits&lt;KeyType&gt;::name() &lt;&lt; &quot;,&quot;</span>
<span class="lineNum">     226 </span>                :<span class="lineNoCov">          0 :       &lt;&lt; Teuchos::TypeNameTraits&lt;ValueType&gt;::name() &lt;&lt; &quot;&gt; &quot;</span>
<span class="lineNum">     227 </span>                :<span class="lineNoCov">          0 :       &lt;&lt; &quot;{ Size_: &quot; &lt;&lt; Size_ &lt;&lt; &quot; }&quot;;</span>
<span class="lineNum">     228 </span>                :<span class="lineNoCov">          0 :   return oss.str();</span>
<span class="lineNum">     229 </span>                :            : }
<a name="230"><span class="lineNum">     230 </span>                :            : </a>
<span class="lineNum">     231 </span>                :            : template &lt;typename KeyType, typename ValueType&gt;
<span class="lineNum">     232 </span>                :<span class="lineNoCov">          0 : void HashTable&lt;KeyType, ValueType&gt;::describe(</span>
<span class="lineNum">     233 </span>                :            :  Teuchos::FancyOStream &amp;out,
<span class="lineNum">     234 </span>                :            :  const Teuchos::EVerbosityLevel verbLevel) const {
<span class="lineNum">     235 </span>                :            :   using std::endl;
<span class="lineNum">     236 </span>                :            :   using std::setw;
<span class="lineNum">     237 </span>                :            :   using Teuchos::OSTab;
<span class="lineNum">     238 </span>                :            :   using Teuchos::rcpFromRef;
<span class="lineNum">     239 </span>                :            :   using Teuchos::TypeNameTraits;
<span class="lineNum">     240 </span>                :            :   using Teuchos::VERB_DEFAULT;
<span class="lineNum">     241 </span>                :            :   using Teuchos::VERB_NONE;
<span class="lineNum">     242 </span>                :            :   using Teuchos::VERB_LOW;
<span class="lineNum">     243 </span>                :            :   using Teuchos::VERB_EXTREME;
<span class="lineNum">     244 </span>                :            : 
<span class="lineNum">     245 </span>                :<span class="lineNoCov">          0 :   Teuchos::EVerbosityLevel vl = verbLevel;</span>
<span class="lineNum">     246 </span>                :<span class="lineNoCov">          0 :   if (vl == VERB_DEFAULT) vl = VERB_LOW;</span>
<span class="lineNum">     247 </span>                :            : 
<span class="lineNum">     248 </span>                :<span class="lineNoCov">          0 :   if (vl == VERB_NONE) {</span>
<span class="lineNum">     249 </span>                :            :     // do nothing
<span class="lineNum">     250 </span>                :            :   }
<span class="lineNum">     251 </span>                :<span class="lineNoCov">          0 :   else if (vl == VERB_LOW) {</span>
<span class="lineNum">     252 </span>                :<span class="lineNoCov">          0 :     out &lt;&lt; this-&gt;description() &lt;&lt; endl;</span>
<span class="lineNum">     253 </span>                :            :   }
<span class="lineNum">     254 </span>                :            :   else {  // MEDIUM, HIGH or EXTREME
<span class="lineNum">     255 </span>                :<span class="lineNoCov">          0 :     out &lt;&lt; &quot;HashTable: {&quot; &lt;&lt; endl;</span>
<span class="lineNum">     256 </span>                :            :     {
<span class="lineNum">     257 </span>                :<span class="lineNoCov">          0 :       OSTab tab1 (rcpFromRef (out));</span>
<span class="lineNum">     258 </span>                :            : 
<span class="lineNum">     259 </span>                :<span class="lineNoCov">          0 :       const std::string label = this-&gt;getObjectLabel ();</span>
<span class="lineNum">     260 </span>                :<span class="lineNoCov">          0 :       if (label != &quot;&quot;) {</span>
<span class="lineNum">     261 </span>                :<span class="lineNoCov">          0 :         out &lt;&lt; &quot;label: &quot; &lt;&lt; label &lt;&lt; endl;</span>
<span class="lineNum">     262 </span>                :            :       }
<span class="lineNum">     263 </span>                :<span class="lineNoCov">          0 :       out &lt;&lt; &quot;Template parameters: {&quot; &lt;&lt; endl;</span>
<span class="lineNum">     264 </span>                :            :       {
<span class="lineNum">     265 </span>                :<span class="lineNoCov">          0 :         OSTab tab2 (rcpFromRef (out));</span>
<span class="lineNum">     266 </span>                :<span class="lineNoCov">          0 :         out &lt;&lt; &quot;KeyType: &quot; &lt;&lt; TypeNameTraits&lt;KeyType&gt;::name () &lt;&lt; endl</span>
<span class="lineNum">     267 </span>                :<span class="lineNoCov">          0 :             &lt;&lt; &quot;ValueType&quot; &lt;&lt; TypeNameTraits&lt;ValueType&gt;::name () &lt;&lt; endl;</span>
<span class="lineNum">     268 </span>                :            :       }
<span class="lineNum">     269 </span>                :<span class="lineNoCov">          0 :       out &lt;&lt; &quot;}&quot; &lt;&lt; endl &lt;&lt; &quot;Table parameters: {&quot; &lt;&lt; endl;</span>
<span class="lineNum">     270 </span>                :            :       {
<span class="lineNum">     271 </span>                :<span class="lineNoCov">          0 :         OSTab tab2 (rcpFromRef (out));</span>
<span class="lineNum">     272 </span>                :<span class="lineNoCov">          0 :         out &lt;&lt; &quot;Size_: &quot; &lt;&lt; Size_ &lt;&lt; endl;</span>
<span class="lineNum">     273 </span>                :            :       }
<span class="lineNum">     274 </span>                :<span class="lineNoCov">          0 :       out &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span>
<span class="lineNum">     275 </span>                :            : #ifdef HAVE_TEUCHOS_DEBUG
<span class="lineNum">     276 </span>                :            :       out &lt;&lt; &quot;Debug info: {&quot; &lt;&lt; endl;
<span class="lineNum">     277 </span>                :            :       {
<span class="lineNum">     278 </span>                :            :         OSTab tab2 (rcpFromRef (out));
<span class="lineNum">     279 </span>                :            :         out &lt;&lt; &quot;Maximum number of collisions for any key: &quot; &lt;&lt; maxc_ &lt;&lt; endl
<span class="lineNum">     280 </span>                :            :             &lt;&lt; &quot;Total number of collisions: &quot; &lt;&lt; nc_ &lt;&lt; endl;
<span class="lineNum">     281 </span>                :            :       }
<span class="lineNum">     282 </span>                :            :       out &lt;&lt; &quot;}&quot; &lt;&lt; endl;
<span class="lineNum">     283 </span>                :            : #endif // HAVE_TEUCHOS_DEBUG
<span class="lineNum">     284 </span>                :            : 
<span class="lineNum">     285 </span>                :<span class="lineNoCov">          0 :       if (vl &gt;= VERB_EXTREME) {</span>
<span class="lineNum">     286 </span>                :<span class="lineNoCov">          0 :         out &lt;&lt; &quot;Contents: &quot;;</span>
<span class="lineNum">     287 </span>                :<span class="lineNoCov">          0 :         if (Container_ == NULL || Size_ == 0) {</span>
<span class="lineNum">     288 </span>                :<span class="lineNoCov">          0 :           out &lt;&lt; &quot;[]&quot; &lt;&lt; endl;</span>
<span class="lineNum">     289 </span>                :            :         } else {
<span class="lineNum">     290 </span>                :<span class="lineNoCov">          0 :           out &lt;&lt; &quot;[&quot; &lt;&lt; endl;</span>
<span class="lineNum">     291 </span>                :            :           {
<span class="lineNum">     292 </span>                :<span class="lineNoCov">          0 :             OSTab tab2 (rcpFromRef (out));</span>
<span class="lineNum">     293 </span>                :<span class="lineNoCov">          0 :             for (KeyType i = 0; i &lt; Size_; ++i) {</span>
<span class="lineNum">     294 </span>                :<span class="lineNoCov">          0 :               Node* curNode = Container_[i];</span>
<span class="lineNum">     295 </span>                :<span class="lineNoCov">          0 :               if (curNode == NULL) {</span>
<span class="lineNum">     296 </span>                :<span class="lineNoCov">          0 :                 out &lt;&lt; &quot;NULL&quot;;</span>
<span class="lineNum">     297 </span>                :            :               } else { // curNode != NULL
<span class="lineNum">     298 </span>                :            :                 // Print all the buckets at the current table position i.
<span class="lineNum">     299 </span>                :<span class="lineNoCov">          0 :                 out &lt;&lt; &quot;[&quot;;</span>
<span class="lineNum">     300 </span>                :            :                 // Print the first bucket.
<span class="lineNum">     301 </span>                :<span class="lineNoCov">          0 :                 out &lt;&lt; &quot;[&quot; &lt;&lt; curNode-&gt;Key &lt;&lt; &quot;,&quot; &lt;&lt; curNode-&gt;Value &lt;&lt; &quot;]&quot;;</span>
<span class="lineNum">     302 </span>                :<span class="lineNoCov">          0 :                 curNode = curNode-&gt;Ptr;</span>
<span class="lineNum">     303 </span>                :            :                 // Print the remaining buckets, if there are any.
<span class="lineNum">     304 </span>                :<span class="lineNoCov">          0 :                 while (curNode != NULL) {</span>
<span class="lineNum">     305 </span>                :<span class="lineNoCov">          0 :                   out &lt;&lt; &quot;, [&quot; &lt;&lt; curNode-&gt;Key &lt;&lt; &quot;,&quot; &lt;&lt; curNode-&gt;Value &lt;&lt; &quot;]&quot;;</span>
<span class="lineNum">     306 </span>                :<span class="lineNoCov">          0 :                   curNode = curNode-&gt;Ptr;</span>
<span class="lineNum">     307 </span>                :            :                 }
<span class="lineNum">     308 </span>                :<span class="lineNoCov">          0 :                 out &lt;&lt; &quot;]&quot; &lt;&lt; endl;</span>
<span class="lineNum">     309 </span>                :            :               } // if curNode == or != NULL
<span class="lineNum">     310 </span>                :<span class="lineNoCov">          0 :               if (i + 1 &lt; Size_) {</span>
<span class="lineNum">     311 </span>                :<span class="lineNoCov">          0 :                 out &lt;&lt; &quot;, &quot;;</span>
<span class="lineNum">     312 </span>                :            :               }
<span class="lineNum">     313 </span>                :            :             } // for each table position i
<span class="lineNum">     314 </span>                :            :           }
<span class="lineNum">     315 </span>                :<span class="lineNoCov">          0 :           out &lt;&lt; &quot;]&quot; &lt;&lt; endl;</span>
<span class="lineNum">     316 </span>                :            :         } // The table contains entries
<span class="lineNum">     317 </span>                :            :       } // vl &gt;= VERB_EXTREME
<span class="lineNum">     318 </span>                :            :     }
<span class="lineNum">     319 </span>                :<span class="lineNoCov">          0 :     out &lt;&lt; &quot;}&quot; &lt;&lt; endl;</span>
<span class="lineNum">     320 </span>                :            :   } // if vl &gt; VERB_LOW
<span class="lineNum">     321 </span>                :<span class="lineNoCov">          0 : }</span>
<span class="lineNum">     322 </span>                :            : 
<span class="lineNum">     323 </span>                :            : } // namespace Details
<span class="lineNum">     324 </span>                :            : } // namespace Tpetra
<span class="lineNum">     325 </span>                :            : 
<span class="lineNum">     326 </span>                :            : // Macro that explicitly instantiates HashTable for the given local
<span class="lineNum">     327 </span>                :            : // ordinal (LO) and global ordinal (GO) types.  Note that HashTable's
<span class="lineNum">     328 </span>                :            : // template parameters occur in the opposite order of most Tpetra
<span class="lineNum">     329 </span>                :            : // classes.  This is because HashTable performs global-to-local
<span class="lineNum">     330 </span>                :            : // lookup, and the convention in templated C++ lookup tables (such as
<span class="lineNum">     331 </span>                :            : // std::map) is &lt;KeyType, ValueType&gt;.
<span class="lineNum">     332 </span>                :            : //
<span class="lineNum">     333 </span>                :            : // This macro must be explanded within the Tpetra::Details namespace.
<span class="lineNum">     334 </span>                :            : #define TPETRA_HASHTABLE_INSTANT_DEFAULTNODE(LO,GO) \
<span class="lineNum">     335 </span>                :            :   template class HashTable&lt; GO , LO &gt;;                         \
<span class="lineNum">     336 </span>                :            : 
<span class="lineNum">     337 </span>                :            : #endif
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.12</a></td></tr>
  </table>
  <br>

</body>
</html>
